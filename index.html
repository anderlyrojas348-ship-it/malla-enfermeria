<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Malla Curricular – Enfermería UPSJB</title>

<style>
:root{
  --lila:#b497d6;
  --lila-claro:#f4effa;
  --blanco:#ffffff;
  --texto:#3a3a3a;
}

body{
  font-family: Arial, sans-serif;
  background:var(--lila-claro);
  margin:0;
  color:var(--texto);
}

header{
  background:var(--lila);
  color:white;
  padding:15px;
  text-align:center;
}

section{
  max-width:1100px;
  margin:auto;
  padding:15px;
}

/* estadísticas */
.stats{
  background:white;
  border-radius:12px;
  padding:12px;
  margin-bottom:15px;
  box-shadow:0 3px 8px rgba(0,0,0,.1);
}

.barra{
  height:12px;
  background:#e0d8ee;
  border-radius:10px;
  overflow:hidden;
  margin-top:8px;
}
.barra span{
  display:block;
  height:100%;
  background:var(--lila);
  width:0%;
}

/* ciclos */
.ciclo{
  background:white;
  border-radius:12px;
  margin-bottom:12px;
  box-shadow:0 3px 8px rgba(0,0,0,.1);
}

.ciclo h2{
  margin:0;
  padding:12px;
  background:#efe8f8;
  cursor:pointer;
  font-size:16px;
}

.cursos{
  display:none;
  padding:10px;
}

.curso{
  padding:8px;
  margin-bottom:6px;
  border-radius:8px;
  background:#f7f3fc;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
}

.curso.aprobado{
  opacity:.55;
  text-decoration:line-through;
  border-left:5px solid var(--lila);
}
</style>
</head>

<body>

<header>
<h1>Malla Curricular – Enfermería</h1>
<p>Universidad Privada San Juan Bautista</p>
</header>

<section>

<div class="stats">
<div id="resumen"></div>
<div class="barra"><span id="barra"></span></div>
</div>

<!-- CICLOS -->
<div id="contenedor"></div>

</section>

<script>
const ciclos = [
{nombre:"Ciclo 01", cursos:[
["HISTORIA Y EPIDEMIOLOGÍA DEL CUIDADO",3],
["FUNDAMENTOS BIOLÓGICOS I",3],
["BASES DE LA PSICOLOGÍA HUMANA",2],
["VIDA UNIVERSITARIA Y GESTIÓN DEL CONOCIMIENTO",2],
["LÓGICO-MATEMÁTICA",3],
["REDACCIÓN E INTERPRETACIÓN DE TEXTOS",3]
]},
{nombre:"Ciclo 02", cursos:[
["ESTRUCTURA Y FUNCIÓN I",3],
["INGLES",3],
["FUNDAMENTOS BIOLÓGICOS II",3],
["FILOSOFÍA",3],
["REALIDAD NACIONAL",3],
["COMUNICACION Y MEDIOS DIGITALES",3]
]},
{nombre:"Ciclo 03", cursos:[
["INGLES II",2],
["FUNDAMENTOS BASICOS DEL CUIDADO ENFERMERO I",3],
["NUTRICIÓN Y DIETOTERAPIA",3],
["ESTRUCTURA Y FUNCIÓN II",3],
["BIOQUÍMICA",2],
["INTERCULTURALIDAD",3],
["PENSAMIENTO CRÍTICO, CREATIVO Y EMPRENDIMIENTO",2]
]},
{nombre:"Ciclo 04", cursos:[
["EPIDEMIOLOGÍA",2],
["SALUD FAMILIARY COMUNITARIA",3],
["SISTEMATIZACIÓN Y MÉTODOS ESTADÍSTICOS",2],
["INTEGRADOR FUNDAMENTOS BASICOS ENFERMERO II",6],
["ENFERMERÍA LEGAL Y LEGISLACIÓN EN LA SALUD",2],
["CIUDADANÍA GLOBAL Y DESARROLLO SOSTENIBLE",3],
["ELECTIVO I",2],
["APROBADO / NO APROBADO",0]
]},
{nombre:"Ciclo 05", cursos:[
["CUIDADO DE ENFERMERO I",8],
["FARMACOLOGÍA APLICADA A LA ENFERMERÍA",3],
["SIMULACIÓN I (REANIMACIÓN CARDIOPULMUNAR BASICO)",2],
["TECNOLOGÍAS DEL EMPODERAMIENTO PARTICIPATIVO EN LA EDUCACIÓN EN SALUD",4]
["METODOLOGÍA DE LA INVESTIGACIÓN",4],
["ELECTIVO 2",]
]},
{nombre:"Ciclo 06", cursos:[
["CUIDADO ENFERMERO II",10],
["SIMULACIÓN II (PROCEDIMIENTOS INVASIVOS)",2],
["RECURSOS PARA LA ALFABETIZACIÓN EN LA SALUD",3],
["REDACCIÓN Y PUBLICACIÓN DE ARTÍCULOS I",2]
["ELECTIVO 3",]
]},
{nombre:"Ciclo 07", cursos:[
["CUIDADO ENFERMERO III",10],
["SIMULACIÓN III (PROCEDIMIENTOS INVASIVOS AVANZADOS",2],
["GESTIÓN ESTRATÉGICA Y EMPRENDIMIENTO",4],
["REDACCIÓN Y PUBLICACIÓN DE ARTÍCULOS II",2]
["ELECTIVO 4",]
]},
{nombre:"Ciclo 08", cursos:[
["CUIDA ENFERMERO I",2],
["GESTIÓN DE LOS SERVICIOS DE ENFERMERÍA",10],
["EMERGENCIAS Y URGENCIAS DE ENFERMERÍA",2],
["SEMINARIO INTEGRADOR II",2],
["ETICA Y PROFESIONALISMO",3]
]},
{nombre:"Ciclo 09", cursos:[
["TALLER GUÍA DE PRÁCTICA CLÍNICA EN CRISIS",2],
["PRIMERA ROTACIÓN DE INTERNADO COMUNITARIO I",10],
["SEGUNDA RINGLADO COMUNITARIO I",10]
]},
{nombre:"Ciclo 10", cursos:[
["TRABAJO DE INVESTIGACIÓN",2],
["TERCERA ROTACIÓN DE INTERNADO CLÍNICO I",10],
["CUARTA ROTACIÓN DE INTERNADO CLÍNICO II",10]
]},
{nombre:"Ciclo 99 (Electivos)", cursos:[
["TALLER DE DESARROLLO DE LA INTELIGENCIA EMOCIONAL",2],
["PRIMEROS AUXILIOS Y RESCATISTAS",2],
["NEUROCIENCIA DEL DOLOR",2],
["ONE HEALTH",2],
["MANEJO INTEGRAL EN EPIDEMIAS",2],
["SALUD BASADA EN EVIDENCIAS",2],
["GRAND ROUND GENERAL",0],
["TERAPÉUTICA INTEGRAL COMPLEMENTARIA",2],
["PSICOLOGÍA DEL SUICIDIO",2],
["PSICOLOGÍA Y ADICCIONES",2]
]}
];

const cont = document.getElementById("contenedor");

let index = 0;
ciclos.forEach(c=>{
  let div = document.createElement("div");
  div.className="ciclo";
  let h = document.createElement("h2");
  h.textContent = c.nombre;
  let cursos = document.createElement("div");
  cursos.className="cursos";

  h.onclick=()=> cursos.style.display = cursos.style.display==="block"?"none":"block";

  c.cursos.forEach(cur=>{
    let d = document.createElement("div");
    d.className="curso";
    d.dataset.creditos = cur[1];
    d.dataset.id = index;
    d.innerHTML = `<span>${cur[0]}</span><span>${cur[1]} cr</span>`;
    d.onclick=()=>{
      d.classList.toggle("aprobado");
      guardar();
      stats();
    };
    cursos.appendChild(d);
    index++;
  });

  div.appendChild(h);
  div.appendChild(cursos);
  cont.appendChild(div);
});

function guardar(){
  let data=[];
  document.querySelectorAll(".curso").forEach(c=>{
    data.push(c.classList.contains("aprobado"));
  });
  localStorage.setItem("estadoUPSJB",JSON.stringify(data));
}

function cargar(){
  let data = JSON.parse(localStorage.getItem("estadoUPSJB"));
  if(!data) return;
  document.querySelectorAll(".curso").forEach((c,i)=>{
    if(data[i]) c.classList.add("aprobado");
  });
}

function stats(){
  let total=0, aprob=0;
  document.querySelectorAll(".curso").forEach(c=>{
    let cr = Number(c.dataset.creditos);
    total+=cr;
    if(c.classList.contains("aprobado")) aprob+=cr;
  });
  let p = total?Math.round((aprob/total)*100):0;
  document.getElementById("resumen").innerText =
    `Créditos aprobados: ${aprob} / ${total} — Avance: ${p}%`;
  document.getElementById("barra").style.width = p+"%";
}

cargar();
stats();
</script>

</body>
</html>
